@startuml BomberQuest_Architecture_Overview

skinparam packageStyle rectangle
skinparam backgroundColor transparent

package "Presentation Layer" #LightBlue {
    [BomberQuest\nMain Entry Point]
}

package "Core Layer" #LightGreen {
    [GameManager\nSingleton]
    [EntityFactory\nFactory Pattern]
    [TransitionManager\nSingleton]
}

package "State Layer" #LightPink {
    [GameState Interface\n+ 7 Implementations]
}

package "Entity Layer" #LightYellow {
    [GameObject\nAbstract Base]
    [Player]
    [Enemy]
    [Bomb]
    [Explosion]
    [Wall]
}

package "Manager Layer" #LightCyan {
    [SoundManager\nSingleton]
    [SettingsManager\nSingleton]
    [LeaderboardManager\nSingleton]
}

' Relationships
[BomberQuest\nMain Entry Point] --> [GameManager\nSingleton]
[GameManager\nSingleton] --> [GameState Interface\n+ 7 Implementations]
[GameManager\nSingleton] --> [GameObject\nAbstract Base]
[GameManager\nSingleton] ..> [EntityFactory\nFactory Pattern]
[GameManager\nSingleton] ..> [TransitionManager\nSingleton]
[GameManager\nSingleton] ..> [SoundManager\nSingleton]
[GameManager\nSingleton] ..> [SettingsManager\nSingleton]
[GameState Interface\n+ 7 Implementations] ..> [LeaderboardManager\nSingleton]

[GameObject\nAbstract Base] <-- [Player]
[GameObject\nAbstract Base] <-- [Enemy]
[GameObject\nAbstract Base] <-- [Bomb]
[GameObject\nAbstract Base] <-- [Explosion]
[GameObject\nAbstract Base] <-- [Wall]

note right of [GameManager\nSingleton]
  Central Controller
  Manages game loop,
  state transitions,
  and entities
end note

note bottom of [GameState Interface\n+ 7 Implementations]
  State Pattern
  MainMenu, DifficultySelection,
  Playing, GameOver, Victory,
  Settings, Leaderboard
end note

legend top left
  Design Patterns Used:
  * Singleton Pattern (5 classes)
  * State Pattern (7 states)
  * Factory Pattern (EntityFactory)
  * Observer Pattern (SettingsListener)
  * Template Method (GameObject)
endlegend

@enduml
